"use strict";$(function(){var e=$("#acceptCheckbox"),t=$("#acceptForm"),n=$("#newsletterCheckbox"),i=$("#emailSignUp"),o=$("#emailError"),r=$("#emailSignUpContainer"),s=$("#toggleTC"),a=$("#tAndC"),l=$("#acceptError");e.removeAttr("required"),s.on("click",function(e){a.toggleClass("hide"),e.preventDefault()}),n.on("change",function(){r.toggleClass("hide"),i.attr("required","required"),o.addClass("hide")}),e.on("change",function(){l.addClass("hide")}),i.on("change",function(){return c()}),t.on("submit",function(r){if(e.is(":checked"))if(n.is(":checked")&&i.val().length<1||!o.hasClass("hide"))i.attr("required","required"),r.preventDefault(),c(),console.log("Form will not be submitted");else{if(!(e.is(":checked")&&n.is(":checked")&&o.hasClass("hide")))return console.log("Only Accept form is submitted"),submitForm("CreateAccount.action?from=SELF_REGISTRATION",t),!1;console.log("Both forms have been submitted"),r.preventDefault()}else console.log("Form cannot be submitted"),l.removeClass("hide"),c(),r.preventDefault()});var c=function(){var e=document.forms.marketingForm["email-signup"].value,t=e.indexOf("@"),n=e.lastIndexOf("."),i=e.split(" ").length-1;t<1||n<t+2||n+2>=e.length||i>0?o.removeClass("hide"):o.addClass("hide")}});