{"version":3,"sources":["../src/scripts.js"],"names":["$","$acceptCheckbox","$acceptForm","$newsletterCheckbox","$emailField","$emailError","$emailContainer","$tAndCToggle","$tAndCContent","$acceptError","removeAttr","on","e","toggleClass","preventDefault","attr","addClass","emailValidation","is","console","log","removeClass","val","length","hasClass","submitForm","email","document","forms","value","atPos","indexOf","dotPos","lastIndexOf","spaceCount","split"],"mappings":"AAAA;;AAEAA,EAAE,YAAW;AACT,QAAIC,kBAAkBD,EAAE,iBAAF,CAAtB;AAAA,QACIE,cAAcF,EAAE,aAAF,CADlB;AAAA,QAEIG,sBAAsBH,EAAE,qBAAF,CAF1B;AAAA,QAGII,cAAcJ,EAAE,cAAF,CAHlB;AAAA,QAIIK,cAAcL,EAAE,aAAF,CAJlB;AAAA,QAKIM,kBAAkBN,EAAE,uBAAF,CALtB;AAAA,QAMIO,eAAeP,EAAE,WAAF,CANnB;AAAA,QAOIQ,gBAAgBR,EAAE,QAAF,CAPpB;AAAA,QAQIS,eAAeT,EAAE,cAAF,CARnB;;AAUAC,oBAAgBS,UAAhB,CAA2B,UAA3B;;AAEAH,iBAAaI,EAAb,CAAgB,OAAhB,EAAyB,UAACC,CAAD,EAAO;AAAEJ,sBAAcK,WAAd,CAA0B,MAA1B,EAAmCD,EAAEE,cAAF;AAAqB,KAA1F;;AAEAX,wBAAoBQ,EAApB,CAAuB,QAAvB,EAAiC,YAAM;AAAEL,wBAAgBO,WAAhB,CAA4B,MAA5B,EAAqCT,YAAYW,IAAZ,CAAiB,UAAjB,EAA6B,UAA7B,EAA0CV,YAAYW,QAAZ,CAAqB,MAArB;AAA+B,KAAvJ;;AAEAf,oBAAgBU,EAAhB,CAAmB,QAAnB,EAA6B,YAAM;AAAEF,qBAAaO,QAAb,CAAsB,MAAtB;AAAgC,KAArE;;AAEAZ,gBAAYO,EAAZ,CAAe,QAAf,EAAyB,YAAM;AAAE,eAAOM,iBAAP;AAA2B,KAA5D;;AAEAf,gBAAYS,EAAZ,CAAe,QAAf,EAAyB,UAACC,CAAD,EAAO;AAC5B,YAAK,CAACX,gBAAgBiB,EAAhB,CAAmB,UAAnB,CAAN,EAAuC;AACnCC,oBAAQC,GAAR,CAAY,0BAAZ;AACAX,yBAAaY,WAAb,CAAyB,MAAzB;AACAJ;AACAL,cAAEE,cAAF;AACH,SALD,MAKO,IAAKX,oBAAoBe,EAApB,CAAuB,UAAvB,KAAsCd,YAAYkB,GAAZ,GAAkBC,MAAlB,GAA2B,CAAjE,IAAsE,CAAClB,YAAYmB,QAAZ,CAAqB,MAArB,CAA5E,EAA2G;AAC9GpB,wBAAYW,IAAZ,CAAiB,UAAjB,EAA6B,UAA7B;AACAH,cAAEE,cAAF;AACAG;AACAE,oBAAQC,GAAR,CAAa,4BAAb;AACH,SALM,MAKA,IAAKnB,gBAAgBiB,EAAhB,CAAmB,UAAnB,KAAkCf,oBAAoBe,EAApB,CAAuB,UAAvB,CAAlC,IAAwEb,YAAYmB,QAAZ,CAAqB,MAArB,CAA7E,EAA4G;AAC/GL,oBAAQC,GAAR,CAAY,gCAAZ;AACAR,cAAEE,cAAF;AACH,SAHM,MAGA;AACHK,oBAAQC,GAAR,CAAY,+BAAZ;AACAK,uBAAW,6CAAX,EAA0DvB,WAA1D;AACA,mBAAO,KAAP;AACH;AACJ,KAnBD;;AAqBA,QAAIe,kBAAkB,SAAlBA,eAAkB,GAAM;AACxB,YAAIS,QAAQC,SAASC,KAAT,CAAe,eAAf,EAAgC,cAAhC,EAAgDC,KAA5D;AAAA,YACIC,QAAQJ,MAAMK,OAAN,CAAc,GAAd,CADZ;AAAA,YAEIC,SAASN,MAAMO,WAAN,CAAkB,GAAlB,CAFb;AAAA,YAGIC,aAAcR,MAAMS,KAAN,CAAY,GAAZ,EAAiBZ,MAAjB,GAA0B,CAH5C;AAIA,YAAIO,QAAQ,CAAR,IAAaE,SAASF,QAAQ,CAA9B,IAAmCE,SAAS,CAAT,IAAcN,MAAMH,MAAvD,IAAiEW,aAAa,CAAlF,EAAqF;AACjF7B,wBAAYgB,WAAZ,CAAwB,MAAxB;AACH,SAFD,MAEO;AACHhB,wBAAYW,QAAZ,CAAqB,MAArB;AACH;AACJ,KAVD;;AAYA;;;;;;;;;AAUH,CAhED","file":"scripts.js","sourcesContent":["'use strict';\n\n$(function() {\n    let $acceptCheckbox = $('#acceptCheckbox'),\n        $acceptForm = $('#acceptForm'),\n        $newsletterCheckbox = $('#newsletterCheckbox'),\n        $emailField = $('#emailSignUp'),\n        $emailError = $('#emailError'),\n        $emailContainer = $('#emailSignUpContainer'),\n        $tAndCToggle = $('#toggleTC'),\n        $tAndCContent = $('#tAndC'),\n        $acceptError = $('#acceptError');\n\n    $acceptCheckbox.removeAttr('required');\n\n    $tAndCToggle.on('click', (e) => { $tAndCContent.toggleClass('hide'); e.preventDefault(); });\n\n    $newsletterCheckbox.on('change', () => { $emailContainer.toggleClass('hide'); $emailField.attr('required', 'required'); $emailError.addClass('hide'); });\n\n    $acceptCheckbox.on('change', () => { $acceptError.addClass('hide'); });\n\n    $emailField.on('change', () => { return emailValidation(); });\n\n    $acceptForm.on('submit', (e) => {\n        if ( !$acceptCheckbox.is(':checked') ) {\n            console.log('Form cannot be submitted');\n            $acceptError.removeClass('hide');\n            emailValidation();\n            e.preventDefault();\n        } else if ( $newsletterCheckbox.is(':checked') && $emailField.val().length < 1 || !$emailError.hasClass('hide') ) {\n            $emailField.attr('required', 'required');\n            e.preventDefault();\n            emailValidation();\n            console.log( 'Form will not be submitted' );\n        } else if ( $acceptCheckbox.is(':checked') && $newsletterCheckbox.is(':checked') && $emailError.hasClass('hide') ) {\n            console.log('Both forms have been submitted');\n            e.preventDefault();\n        } else {\n            console.log('Only Accept form is submitted');\n            submitForm('CreateAccount.action?from=SELF_REGISTRATION', $acceptForm);\n            return false;\n        }\n    });\n\n    let emailValidation = () => {\n        let email = document.forms[\"marketingForm\"][\"email-signup\"].value,\n            atPos = email.indexOf(\"@\"),\n            dotPos = email.lastIndexOf(\".\"),\n            spaceCount = (email.split(\" \").length - 1);\n        if (atPos < 1 || dotPos < atPos + 2 || dotPos + 2 >= email.length || spaceCount > 0) {\n            $emailError.removeClass('hide');\n        } else {\n            $emailError.addClass('hide');\n        }\n    };\n\n    /*let submitForm = (url, data) => {\n        $.ajax({\n            type:\"POST\",\n            url:url,\n            data:data.serialize(),\n            success: alert('Sent Ajax Form')\n        });\n        return false;\n    };*/\n\n});"]}