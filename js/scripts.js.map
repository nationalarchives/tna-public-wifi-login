{"version":3,"sources":["../src/scripts.js"],"names":["publicWifi","window","toggleTC","$","toggleTCDiv","emailSignUpFieldContainer","emailField","emailError","acceptCheckbox","newsletterCheckbox","acceptCheckboxError","toggleTCfunc","on","e","preventDefault","toggleClass","newsLetter","checked","removeClass","addClass","removeRequired","removeAttr","onClick","emailValidation","email","document","forms","value","atPos","indexOf","dotPos","lastIndexOf","spaceCount","split","length","onChangeValidateEmail","submitBothForms","each","submit","submitForm","val","console","log","getElementById","init"],"mappings":"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","file":"scripts.js","sourcesContent":["'use strict';\n\nconst publicWifi = ((window) => {\n\n    //defined variables\n    const   toggleTC = $('.entry-content a'),\n            toggleTCDiv = $('#tAndC'),\n            emailSignUpFieldContainer = $('#emailSignUpContainer'),\n            emailField = $('#emailSignUp'),\n            emailError = $('#emailError'),\n            acceptCheckbox = $('#acceptCheckbox'),\n            newsletterCheckbox = $('#newsletterCheckbox'),\n            acceptCheckboxError = $('#accept-error');\n\n    /*\n     * This is to show and hide the terms and conditions\n    */\n    const toggleTCfunc = () => {\n        toggleTC.on('click', (e) => {\n            e.preventDefault();\n            toggleTCDiv.toggleClass('hide');\n        });\n    };\n\n\n    /*\n     * This is to show and hide the email field if checked.\n    */\n    const newsLetter = () => {\n        newsletterCheckbox.on('change', () => {\n            if(newsletterCheckbox[0].checked){\n                emailSignUpFieldContainer.removeClass( \"hide\" );\n            } else {\n                emailSignUpFieldContainer.addClass( \"hide\" );\n            }\n        });\n    };\n\n    /*\n     * This is to remove the required attribute as we only want to use this if there is no JS.\n    */\n    const removeRequired = () => { acceptCheckbox.removeAttr('required'); };\n\n\n    /*\n     * Check's if the Accept checkbox is checked and hide's the error message.\n    */\n    const onClick = () => {\n        acceptCheckbox.on(\"click\", () => {\n            if(acceptCheckbox[0].checked){\n                acceptCheckboxError.addClass('hide');\n                acceptCheckbox.removeAttr('class');\n            }\n        });\n        newsletterCheckbox.on(\"click\",() => {\n           if(!newsletterCheckbox[0].checked) {\n               emailError.addClass('hide');\n           }\n        });\n    };\n\n\n    /*\n     * Email validation function\n    */\n    const emailValidation = () => {\n        let email = document.forms[\"marketingForm\"][\"email-signup\"].value,\n            atPos = email.indexOf(\"@\"),\n            dotPos = email.lastIndexOf(\".\"),\n            spaceCount = (email.split(\" \").length - 1);\n        if (atPos < 1 || dotPos < atPos + 2 || dotPos + 2 >= email.length || spaceCount > 0) {\n            emailError.removeClass('hide');\n        } else {\n            emailError.addClass('hide');\n        }\n    };\n\n\n    /*\n     * Checks for email on change\n    */\n    let onChangeValidateEmail = () => { emailField.on( 'change', function () { emailValidation(); }); };\n\n\n    /*\n     * Submit the forms\n    */\n    // const submitForm = () => {\n    //     $('#connect').on('click', (e) => {\n    //         if ( acceptCheckbox[0].checked ){\n    //             document.getElementById('acceptForm').submit();\n    //             if ( newsletterCheckbox[0].checked  ) {\n    //                 document.getElementById(\"marketingForm\").submit();\n    //             }\n    //         } else if ( acceptCheckbox.is(':checked')) {\n    //             document.getElementById(\"acceptForm\").submit();\n    //         } else if ( newsletterCheckbox.is(':checked') && emailField.val() === '' && !acceptCheckbox[0].checked ){\n    //             acceptCheckboxError.removeClass('hide');\n    //             acceptCheckbox.addClass('field-error');\n    //             emailValidation();\n    //         }else if ( acceptCheckbox[0].checked && newsletterCheckbox[0].checked && emailField.val() === '' ) {\n    //             e.preventDefault();\n    //             emailValidation();\n    //         }else {\n    //             acceptCheckboxError.removeClass('hide');\n    //             acceptCheckbox.addClass('field-error');\n    //             e.preventDefault();\n    //         }\n    //     });\n    // };\n\n    /*\n    * Function that submits both forms.\n    */\n    const submitBothForms = () => { $('form').each(() => { $(this).submit(); }); };\n\n    const submitForm = () => {\n      $('#connect').on('click', (e) => {\n          if ( !acceptCheckbox[0].checked && newsletterCheckbox[0].checked && emailField.val().length > 1 ) {\n              acceptCheckboxError.removeClass('hide');\n              acceptCheckbox.addClass('field-error');\n              emailValidation();\n              e.preventDefault();\n              console.log('Found you again');\n          } else if ( acceptCheckbox[0].checked && !newsletterCheckbox[0].checked ) {\n              document.getElementById('acceptForm').submit();\n          } else if ( acceptCheckbox[0].checked && newsletterCheckbox[0].checked && $('#emailSignUp').val().length === 0 ) {\n              return false;\n          } else {\n              acceptCheckboxError.removeClass('hide');\n          }\n      });\n    };\n\n\n\n    /*\n    * initialize all functions\n    */\n    const init = () => {\n        removeRequired();\n        toggleTCfunc();\n        onChangeValidateEmail();\n        newsLetter();\n        onClick();\n        submitForm();\n    };\n    init();\n\n})(window);"]}