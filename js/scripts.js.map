{"version":3,"sources":["../src/scripts.js"],"names":["$","$acceptCheckbox","$acceptForm","$newsletterCheckbox","$emailField","$emailError","$emailContainer","$tAndCToggle","$tAndCContent","$acceptError","removeAttr","on","e","toggleClass","preventDefault","is","console","log","removeClass","val","length","hasClass","attr","sendBothForms","submitForm","addClass","emailValidation","email","document","forms","value","atPos","indexOf","dotPos","lastIndexOf","spaceCount","split","url","data","ajax","type","serialize","success"],"mappings":"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","file":"scripts.js","sourcesContent":["'use strict';\n\n$(function() {\n    let $acceptCheckbox = $('#acceptCheckbox'),\n        $acceptForm = $('#acceptForm'),\n        $newsletterCheckbox = $('#newsletterCheckbox'),\n        $emailField = $('#emailSignUp'),\n        $emailError = $('#emailError'),\n        $emailContainer = $('#emailSignUpContainer'),\n        $tAndCToggle = $('#toggleTC'),\n        $tAndCContent = $('#tAndC'),\n        $acceptError = $('#acceptError');\n\n    $acceptCheckbox.removeAttr('required');\n\n    $tAndCToggle.on('click', (e) => { $tAndCContent.toggleClass('hide'); e.preventDefault(); });\n\n    $acceptForm.on('submit', (e) => {\n        if ( !$acceptCheckbox.is(':checked') ) {\n            console.log('Form cannot be submitted');\n            $acceptError.removeClass('hide');\n            e.preventDefault();\n        } else if ( $newsletterCheckbox.is(':checked') && $emailField.val().length < 1 || !$emailError.hasClass('hide') ) {\n            $emailField.attr('required', 'required');\n            e.preventDefault();\n            $emailError.removeClass('hide');\n            console.log( 'Form will not be submitted' );\n        } else if ( $acceptCheckbox.is(':checked') && $newsletterCheckbox.is(':checked') && $emailError.hasClass('hide') ) {\n            e.preventDefault();\n            return sendBothForms();\n            //return false;\n        } else {\n            console.log('Only Accept form is submitted');\n            submitForm('CreateAccount.action?from=SELF_REGISTRATION', $acceptForm);\n            return false;\n        }\n    });\n\n    $newsletterCheckbox.on('change', () => { $emailContainer.toggleClass('hide'); $emailField.attr('required', 'required'); $emailError.addClass('hide'); });\n\n    $acceptCheckbox.on('change', () => { $acceptError.addClass('hide'); });\n\n    $emailField.on('change', () => { return emailValidation(); });\n\n    let emailValidation = () => {\n        let email = document.forms[\"marketingForm\"][\"email-signup\"].value,\n            atPos = email.indexOf(\"@\"),\n            dotPos = email.lastIndexOf(\".\"),\n            spaceCount = (email.split(\" \").length - 1);\n        if (atPos < 1 || dotPos < atPos + 2 || dotPos + 2 >= email.length || spaceCount > 0) {\n            $emailError.removeClass('hide');\n        } else {\n            $emailError.addClass('hide');\n        }\n    };\n\n    let submitForm = (url, data) => {\n        return $.ajax({\n            type:\"GET\",\n            url:url,\n            data:data.serialize(),\n            success: console.log('Sent Ajax Form')\n        });\n    };\n\n});\n"]}