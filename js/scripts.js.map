{"version":3,"sources":["../src/scripts.js"],"names":["publicWifi","toggleTC","$","toggleTCDiv","emailSignUpFieldContainer","emailField","emailError","acceptCheckbox","newsletterCheckbox","acceptCheckboxError","toggleTCfunc","on","e","preventDefault","toggleClass","newsLetter","checked","removeClass","addClass","removeRequired","removeAttr","onClick","onChangeValidateEmail","emailValidation","email","document","forms","value","atPos","indexOf","dotPos","lastIndexOf","spaceCount","split","length","addRequireEmail","attr","console","log","submitForm","hasClass","val","init"],"mappings":"AAAA;;AAEA,IAAMA,aAAc,YAAM;;AAEtB;AACA,QAAMC,WAAWC,EAAE,kBAAF,CAAjB;AAAA,QACIC,cAAcD,EAAE,QAAF,CADlB;AAAA,QAEIE,4BAA4BF,EAAE,uBAAF,CAFhC;AAAA,QAGIG,aAAaH,EAAE,cAAF,CAHjB;AAAA,QAIII,aAAaJ,EAAE,aAAF,CAJjB;AAAA,QAKIK,iBAAiBL,EAAE,iBAAF,CALrB;AAAA,QAMIM,qBAAqBN,EAAE,qBAAF,CANzB;AAAA,QAOIO,sBAAsBP,EAAE,eAAF,CAP1B;;AASA;;;AAGA,QAAMQ,eAAe,SAAfA,YAAe,GAAM;AACvBT,iBAASU,EAAT,CAAY,OAAZ,EAAqB,UAACC,CAAD,EAAO;AACxBA,cAAEC,cAAF;AACAV,wBAAYW,WAAZ,CAAwB,MAAxB;AACH,SAHD;AAIH,KALD;;AAQA;;;AAGA,QAAMC,aAAa,SAAbA,UAAa,GAAM;AACrBP,2BAAmBG,EAAnB,CAAsB,QAAtB,EAAgC,YAAM;AAClC,gBAAIH,mBAAmB,CAAnB,EAAsBQ,OAA1B,EAAmC;AAC/BZ,0CAA0Ba,WAA1B,CAAsC,MAAtC;AACH,aAFD,MAEO;AACHb,0CAA0Bc,QAA1B,CAAmC,MAAnC;AACH;AACJ,SAND;AAOH,KARD;;AAUA;;;AAGA,QAAMC,iBAAiB,SAAjBA,cAAiB,GAAM;AAAEZ,uBAAea,UAAf,CAA0B,UAA1B;AAAwC,KAAvE;;AAGA;;;AAGA,QAAMC,UAAU,SAAVA,OAAU,GAAM;AAClBd,uBAAeI,EAAf,CAAkB,OAAlB,EAA2B,YAAM;AAC7B,gBAAIJ,eAAe,CAAf,EAAkBS,OAAtB,EAA+B;AAC3BP,oCAAoBS,QAApB,CAA6B,MAA7B;AACAX,+BAAea,UAAf,CAA0B,OAA1B;AACH;AACJ,SALD;AAMH,KAPD;;AAUA;;;AAGA,QAAIE,wBAAwB,SAAxBA,qBAAwB,GAAM;AAAEjB,mBAAWM,EAAX,CAAc,QAAd,EAAwB,YAAY;AAAEY;AAAoB,SAA1D;AAA8D,KAAlG;;AAIA;;;AAGA,QAAMA,kBAAkB,SAAlBA,eAAkB,GAAM;AAC1B,YAAIC,QAAQC,SAASC,KAAT,CAAe,eAAf,EAAgC,cAAhC,EAAgDC,KAA5D;AAAA,YACIC,QAAQJ,MAAMK,OAAN,CAAc,GAAd,CADZ;AAAA,YAEIC,SAASN,MAAMO,WAAN,CAAkB,GAAlB,CAFb;AAAA,YAGIC,aAAcR,MAAMS,KAAN,CAAY,GAAZ,EAAiBC,MAAjB,GAA0B,CAH5C;AAIA,YAAIN,QAAQ,CAAR,IAAaE,SAASF,QAAQ,CAA9B,IAAmCE,SAAS,CAAT,IAAcN,MAAMU,MAAvD,IAAiEF,aAAa,CAAlF,EAAqF;AACjF1B,uBAAWW,WAAX,CAAuB,MAAvB;AACH,SAFD,MAEO;AACHX,uBAAWY,QAAX,CAAoB,MAApB;AACH;AACJ,KAVD;;AAYA,QAAIiB,kBAAkB,SAAlBA,eAAkB,GAAW;AAC7B3B,2BAAmBG,EAAnB,CAAsB,OAAtB,EAA+B,YAAW;AACtC,gBAAKT,EAAE,IAAF,EAAQ,CAAR,EAAWc,OAAhB,EAA0B;AACtBX,2BAAW+B,IAAX,CAAgB,UAAhB,EAA2B,UAA3B;AACAC,wBAAQC,GAAR,CAAY,gBAAZ;AACH;AACJ,SALD;AAMH,KAPD;;AAUA;;;AAGA,QAAIC,aAAa,SAAbA,UAAa,GAAM;AACnBrC,UAAE,UAAF,EAAcS,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC5B,gBAAKJ,eAAe,CAAf,EAAkBS,OAAlB,IAA6BR,mBAAmB,CAAnB,EAAsBQ,OAAnD,IAA8D,CAACV,WAAWkC,QAAX,CAAoB,MAApB,CAApE,EAAkG;AAC9FH,wBAAQC,GAAR,CAAY,4FAAZ;AACAf;AACA,uBAAO,KAAP;AACH;AACD,gBAAKhB,eAAe,CAAf,EAAkBS,OAAlB,IAA6BR,mBAAmB,CAAnB,EAAsBQ,OAAnD,IAA8DX,WAAWoC,GAAX,GAAiBP,MAAjB,GAA0B,CAAxF,IAA6F5B,WAAWkC,QAAX,CAAoB,MAApB,CAAlG,EAA+H;AAC3HH,wBAAQC,GAAR,CAAY,wCAAZ;AACH;AACD,gBAAK/B,eAAe,CAAf,EAAkBS,OAAlB,IAA6B,CAACR,mBAAmB,CAAnB,EAAsBQ,OAAzD,EAAmE;AAC/DqB,wBAAQC,GAAR,CAAa,4BAAb;AACH;AACD,gBAAK,CAAC/B,eAAe,CAAf,EAAkBS,OAAxB,EAAkC;AAC9BqB,wBAAQC,GAAR,CAAa,4BAAb;AACA7B,oCAAoBQ,WAApB,CAAgC,MAAhC;AACH;AACD,gBAAKT,mBAAmB,CAAnB,EAAsBQ,OAAtB,IAAiC,CAACT,eAAe,CAAf,EAAkBS,OAAzD,EAAmE;AAC/DO;AACH;AACD,gBAAK,CAACjB,WAAWkC,QAAX,CAAoB,MAApB,CAAN,EAAoC;AAChCH,wBAAQC,GAAR,CAAa,sCAAb;AACA,uBAAO,KAAP;AACH;AACJ,SAvBD;AAwBH,KAzBD;;AA4BA;;;AAGA,QAAMI,OAAO,SAAPA,IAAO,GAAM;AACfvB;AACAT;AACAyB;AACAb;AACAP;AACAM;AACAkB;AACH,KARD;AASAG;AAEH,CApIkB,EAAnB","file":"scripts.js","sourcesContent":["'use strict';\n\nconst publicWifi = (() => {\n\n    //defined variables\n    const toggleTC = $('.entry-content a'),\n        toggleTCDiv = $('#tAndC'),\n        emailSignUpFieldContainer = $('#emailSignUpContainer'),\n        emailField = $('#emailSignUp'),\n        emailError = $('#emailError'),\n        acceptCheckbox = $('#acceptCheckbox'),\n        newsletterCheckbox = $('#newsletterCheckbox'),\n        acceptCheckboxError = $('#accept-error');\n\n    /*\n     * This is to show and hide the terms and conditions\n    */\n    const toggleTCfunc = () => {\n        toggleTC.on('click', (e) => {\n            e.preventDefault();\n            toggleTCDiv.toggleClass('hide');\n        });\n    };\n\n\n    /*\n     * This is to show and hide the email field if checked.\n    */\n    const newsLetter = () => {\n        newsletterCheckbox.on('change', () => {\n            if (newsletterCheckbox[0].checked) {\n                emailSignUpFieldContainer.removeClass(\"hide\");\n            } else {\n                emailSignUpFieldContainer.addClass(\"hide\");\n            }\n        });\n    };\n\n    /*\n     * This is to remove the required attribute as we only want to use this if there is no JS.\n    */\n    const removeRequired = () => { acceptCheckbox.removeAttr('required'); };\n\n\n    /*\n     * Check's if the Accept checkbox is checked and hide's the error message.\n    */\n    const onClick = () => {\n        acceptCheckbox.on(\"click\", () => {\n            if (acceptCheckbox[0].checked) {\n                acceptCheckboxError.addClass('hide');\n                acceptCheckbox.removeAttr('class');\n            }\n        });\n    };\n\n\n    /*\n     * Checks for email on change\n    */\n    let onChangeValidateEmail = () => { emailField.on('change', function () { emailValidation(); }); };\n\n\n\n    /*\n     * Email validation function\n    */\n    const emailValidation = () => {\n        let email = document.forms[\"marketingForm\"][\"email-signup\"].value,\n            atPos = email.indexOf(\"@\"),\n            dotPos = email.lastIndexOf(\".\"),\n            spaceCount = (email.split(\" \").length - 1);\n        if (atPos < 1 || dotPos < atPos + 2 || dotPos + 2 >= email.length || spaceCount > 0) {\n            emailError.removeClass('hide');\n        } else {\n            emailError.addClass('hide');\n        }\n    };\n\n    let addRequireEmail = function() {\n        newsletterCheckbox.on('click', function() {\n            if ( $(this)[0].checked ) {\n                emailField.attr('required','required');\n                console.log('Required added');\n            }\n        });\n    };\n\n\n    /*\n    * Form submit.\n    */\n    let submitForm = () => {\n        $('#connect').on('click', () => {\n            if ( acceptCheckbox[0].checked && newsletterCheckbox[0].checked && !emailError.hasClass('hide') ) {\n                console.log('All is checked but there is an error in the email field, so the form will not be submitted');\n                emailValidation();\n                return false;\n            }\n            if ( acceptCheckbox[0].checked && newsletterCheckbox[0].checked && emailField.val().length > 1 && emailError.hasClass('hide')) {\n                console.log('All is valid, and both forms submitted');\n            }\n            if ( acceptCheckbox[0].checked && !newsletterCheckbox[0].checked ) {\n                console.log( 'Only accept form submitted' );\n            }\n            if ( !acceptCheckbox[0].checked ) {\n                console.log( 'Form will not be submitted' );\n                acceptCheckboxError.removeClass('hide');\n            }\n            if ( newsletterCheckbox[0].checked && !acceptCheckbox[0].checked ) {\n                emailValidation();\n            }\n            if ( !emailError.hasClass('hide') ) {\n                console.log( 'There is an error in the email field' );\n                return false;\n            }\n        });\n    };\n\n\n    /*\n    * initialize all functions\n    */\n    const init = () => {\n        removeRequired();\n        toggleTCfunc();\n        addRequireEmail();\n        onChangeValidateEmail();\n        newsLetter();\n        onClick();\n        submitForm();\n    };\n    init();\n\n})();"]}