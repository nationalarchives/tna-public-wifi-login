"use strict";$(function(){var e=$("#acceptCheckbox"),t=$("#acceptForm"),n=$("#newsletterCheckbox"),o=$("#emailSignUp"),r=$("#emailError"),i=$("#emailSignUpContainer"),s=$("#toggleTC"),a=$("#tAndC"),l=$("#acceptError");e.removeAttr("required"),s.on("click",function(e){a.toggleClass("hide"),e.preventDefault()}),t.on("submit",function(i){if(e.is(":checked")){if(!(n.is(":checked")&&o.val().length<1)&&r.hasClass("hide"))return e.is(":checked")&&n.is(":checked")&&r.hasClass("hide")?(i.preventDefault(),sendBothForms()):(console.log("Only Accept form is submitted"),d("CreateAccount.action?from=SELF_REGISTRATION",t),!1);o.attr("required","required"),i.preventDefault(),r.removeClass("hide"),console.log("Form will not be submitted")}else console.log("Form cannot be submitted"),l.removeClass("hide"),i.preventDefault()}),n.on("change",function(){i.toggleClass("hide"),o.attr("required","required"),r.addClass("hide")}),e.on("change",function(){l.addClass("hide")}),o.on("change",function(){return c()});var c=function(){var e=document.forms.marketingForm["email-signup"].value,t=e.indexOf("@"),n=e.lastIndexOf("."),o=e.split(" ").length-1;t<1||n<t+2||n+2>=e.length||o>0?r.removeClass("hide"):r.addClass("hide")},d=function(e,t){return $.ajax({type:"GET",url:e,data:t.serialize(),success:console.log("Sent Ajax Form")})}});