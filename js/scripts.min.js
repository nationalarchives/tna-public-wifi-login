"use strict";$(function(){var e=$("#acceptCheckbox"),t=$("#acceptForm"),n=$("#newsletterCheckbox"),i=$("#emailSignUp"),r=$("#emailError"),o=$("#emailSignUpContainer"),a=$("#toggleTC"),s=$("#tAndC"),l=$("#acceptError");e.removeAttr("required"),a.on("click",function(e){s.toggleClass("hide"),e.preventDefault()}),n.on("change",function(){o.toggleClass("hide"),i.attr("required","required"),r.addClass("hide")}),e.on("change",function(){l.addClass("hide")}),i.on("change",function(){return c()}),t.on("submit",function(o){if(e.is(":checked"))if(n.is(":checked")&&i.val().length<1||!r.hasClass("hide"))i.attr("required","required"),o.preventDefault(),c(),console.log("Form will not be submitted");else{if(!(e.is(":checked")&&n.is(":checked")&&r.hasClass("hide")))return console.log("Only Accept form is submitted"),d("CreateAccount.action?from=SELF_REGISTRATION",t),!1;console.log("Both forms have been submitted"),o.preventDefault()}else console.log("Form cannot be submitted"),l.removeClass("hide"),c(),o.preventDefault()});var c=function(){var e=document.forms.marketingForm["email-signup"].value,t=e.indexOf("@"),n=e.lastIndexOf("."),i=e.split(" ").length-1;t<1||n<t+2||n+2>=e.length||i>0?r.removeClass("hide"):r.addClass("hide")},d=function(e,t){return $.ajax({type:"POST",url:e,data:t.serialize(),success:alert("Sent Ajax Form")}),!1}});